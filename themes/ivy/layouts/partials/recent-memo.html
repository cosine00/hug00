<div id="bber"></div>
<script type="text/javascript">
  var bbMemos = {
    memos : '/memos.json', // 使用本地json文件
    limit : '6',            // 默认每次显示 10条
    creatorId:'1',
    domId: '#bber',        // 必须指定为 #bber
    twiEnv:'https://huxin.netlify.app/.netlify/functions/twikoo/', // 如需评论可配置
  }
</script>
<script src="/js/bb-home.js"></script>
<script src="/js/marked.min.js"></script>
<script src="/js/view-image.min.js"></script>
<script src="/js/lately.min.js"></script>
<script src="/js/twikoo.all.min.js"></script>
<script type="module" src="/js/emaction.js"></script>

<style>
#bber{margin-top:2em;width:580px;}
#bber pre{color: #fff;}
.timeline ul {margin:0;}
.timeline ul li {background:#3b3d42;list-style-type:none;position:relative;width:3px;margin-left:1em;padding:0.8em 0 2em;}
.timeline ul li::after {transform: rotate(45deg);content:'';background-color: #3b3d42;display: block;position: absolute;top: 10px;left: -5px;width: 0.8em;height: 0.8em;outline:15px solid #fff;}
.timeline ul li .itemdiv {position:relative;top:-13px;left:1em;width:670px;padding:0px 16px 0px;}
.timeline ul li .datatime,.load button{color: #fafafa;font-size: 0.75em;font-style: italic;background-color: #3b3d42;display: inline-block;padding:4px 12px;}
.timeline ul li .datacont{margin:0.65em 0 0.3em;}
.timeline ul li .datacont img[src*="emotion"]{display:inline-block;width:auto;height:auto;}
.timeline ul li .datafrom{color: #aaa;font-size: 0.75em !important;font-style: italic;}
.timeline ul li p{margin:0;font-size:16px;letter-spacing:1px;color: #3b3d42;}
.load button{border-radius:0;border:0;padding:10px 22px;}
.dark-theme .timeline ul li .itemdiv p{color:#fafafa;}
.dark-theme .timeline ul li .itemdiv p svg{fill:#fafafa;}
.dark-theme .timeline ul li .datafrom{color: #aaa;}
.dark-theme .timeline ul li{background:#3b3d42;}
.dark-theme .timeline ul li::after{outline: 15px solid #2f2f2f;}
@media (max-width:860px) {
  .timeline ul li{margin-left:0;}
  .timeline ul li .itemdiv{width:calc(100vw - 75px);left:20px;}
}
.datacont .tag-span,
.tag-span {
  color: #42b983;
  font-weight: normal;   /* 不加粗 */
  background: none;      /* 去掉浅绿色背景 */
  box-shadow: none;      /* 去掉阴影 */
}
.datasource a{font-size: 0.8rem;}
.datacont .img{cursor:pointer;border:1px solid #3b3d42;}
.datacont .img.square{height:180px;width:180px;object-fit:cover;}
.resimg.grid{
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-template-rows:auto;
    gap: 4px;
    width: calc(100%* 2 / 3);
    box-sizing: border-box;
    margin: 4px 0 0;
}
.resimg.grid-2{
  grid-template-columns: repeat(2, 1fr);
  width: 80%;
}
.resimg.grid-4{
  grid-template-columns: repeat(2, 1fr);
  width: calc(80% * 2 / 3);
}
.resimg.grid figure.gallery-thumbnail {
  position: relative;
  width: 100%;
  height: 0;
  padding-top: 100%;
  cursor: zoom-in;
}
.resimg figure{
  text-align: left;
  overflow: hidden;
}
.resimg figure img{
  max-height:50vh;
}
.resimg.grid figure, figcaption {
  margin: 0;
  padding: 0;
}
.resimg.grid figure.gallery-thumbnail > img.thumbnail-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ---------- 统一缩略图与条目高度（新增） ---------- */
/* 目标：带图和不带图的条目高度更统一且更美观，保留现有标签/emoji 位置 */
.bb-timeline ul { list-style: none; padding: 0; margin: 0; }
.bb-timeline ul li { padding: 0; }
.bb-item { display: flex; gap: 12px; align-items: flex-start; min-height: 110px; padding: 12px; box-sizing: border-box; }
.bb-thumb { width: 140px; height: 96px; flex: 0 0 140px; border-radius: 6px; overflow: hidden; background: #f6f6f6; display: flex; align-items: center; justify-content: center; }
.bb-thumb img, .gallery-thumbnail img, .thumbnail-image { width: 100%; height: 100%; object-fit: cover; display: block; }
.bb-cont { flex: 1 1 auto; max-height: 96px; overflow: hidden; }
.bb-cont p { margin: 0; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
.resimg { width: 140px; height: 96px; overflow: hidden; border-radius: 6px; }
.resimg.grid { grid-template-columns: 1fr; width: 140px; }
.resimg.grid figure.gallery-thumbnail { padding-top: 0; height: 100%; }
.bb-item.no-image .bb-thumb { background: transparent; border: 1px dashed #eee; color: #aaa; font-size: 12px; }

@media (max-width:860px) {
  .bb-thumb { width: 90px; height: 64px; flex: 0 0 90px; }
  .bb-cont { max-height: 64px; }
  .bb-cont p { -webkit-line-clamp: 3; }
}

/* end 统一样式 */
</style>
